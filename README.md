# Дом у моря (dom-u-morya.site)

Веб-приложение на Django для поиска и бронирования домов у моря.

**🌐 Живая версия проекта:** [https://dom-u-morya.site/](https://dom-u-morya.site/)

---

## 📝 О проекте

«Дом у моря» — это интернет-каталог загородных домов для отдыха. Пользователи могут:
*   Просматривать список доступных домов.
*   Использовать фильтры для поиска по цене и описанию.
*   Сортировать результаты по цене (от дешевых к дорогим и наоборот) и по алфавиту.
*   Переходить на страницу каждого дома для просмотра детальной информации.
*   Оставлять заявку на бронирование выбранного дома.

---

## 🛠 Стек технологий

*   **Бэкенд:** Python 3, Django 5.2
*   **Фронтенд:** HTML, CSS
*   **База данных:** SQLite (для разработки)
*   **Работа с изображениями:** `sorl-thumbnail` + `Pillow` (для создания превью)
*   **Форматирование чисел:** `django.contrib.humanize`
*   **Деплой:** Shared-хостинг [jino.ru](https://jino.ru/) с Passenger Application Server
*   **Виртуальное окружение:** Python virtualenv

---

## 🚀 Ключевые особенности и реализация

### Модели данных (`houses/models.py`)
*   Модель `House` содержит поля: название, цена, описание, фотография, флаг активности.

### Представления (`houses/views.py`)
*   **`houses_list`**: Отображает список активных домов. Реализует фильтрацию и сортировку на основе данных из формы `HousesFilterForm`.
*   **`house_detail`**: Отображает детальную страницу дома и обрабатывает форму заявки на бронирование (`OrderForm`).

### Фильтрация и поиск (`houses/forms.py`)
*   Форма `HousesFilterForm` позволяет задать:
    *   Минимальную и максимальную цену.
    *   Ключевое слово для поиска в названии и описании (используется `Q`-объекты для поиска по нескольким полям).
    *   Сортировку результатов.

### Шаблоны
*   Используется наследование шаблонов (`index.html` — базовый).
*   Подключены `header.html` и `footer.html` для единообразия страниц.
*   Для адаптации изображений используется тег `{% thumbnail %}` из библиотеки `sorl-thumbnail`.
*   Для форматирования цены применяется фильтр `intcomma` из `django.contrib.humanize`.

### Конфигурация продакшн
*   **Passenger WSGI:** Приложение запускается через `passenger_wsgi.py`
*   **Виртуальное окружение:** Используется изолированное Python-окружение в `~/env/bin/python3`
*   **Статика и медиа:** Настроено обслуживание через веб-сервер хостинга

---

## 🗂 Структура проекта
```
dom_u_morya/
├── houses/ # Основное приложение
│ ├── templates/houses/ # Шаблоны приложения
│ │ ├── houses_list.html
│ │ └── house_detail.html
│ ├── models.py
│ ├── views.py
│ └── forms.py # Форма фильтрации
├── orders/ # Приложение для заказов
├── static/
│ ├── css/
│ │ └── styles.css
│ └── images/
│ └── logo.png
├── templates/ # Глобальные шаблоны
│ ├── index.html
│ ├── header.html
│ └── footer.html
├── dom_u_morya/ # Настройки проекта
│ ├── wsgi.py
│ └── settings.py
└── passenger_wsgi.py # Точка входа для Passenger
```
---

## 🚀 Установка и запуск (для разработки)

1.  **Клонируйте репозиторий:**
    ```
    git clone https://github.com/kate-belova/dom_u_morya.git
    cd dom_u_morya
    ```

2.  **Создайте и активируйте виртуальное окружение:**
    ```
    python -m venv venv
    source venv/bin/activate  # Для Linux/MacOS
    # venv\Scripts\activate  # Для Windows
    ```

3.  **Установите зависимости:**
    ```
    pip install -r requirements.txt
    ```

4.  **Примените миграции:**
    ```
    python manage.py migrate
    ```

5.  **Создайте суперпользователя (опционально):**
    ```
    python manage.py createsuperuser
    ```

6.  **Запустите сервер для разработки:**
    ```
    python manage.py runserver
    ```

    Приложение будет доступно по адресу: `http://127.0.0.1:8000/`

---
## 📦 Зависимости

Основные зависимости проекта (см. `requirements.txt`):
- `Django==5.2.7`
- `sorl-thumbnail==12.11.0` - для работы с превью изображений
- `Pillow==12.0.0` - для обработки изображений
- `asgiref==3.10.0`
- `sqlparse==0.5.3`

---
## 🌐 Продакшн-развертывание

Проект развернут на shared-хостинге **jino.ru** со следующей конфигурацией:
- **Application Server:** Passenger
- **Точка входа:** `passenger_wsgi.py`
- **Python Environment:** Виртуальное окружение в `~/env/bin/python3`
- **Доменное имя:** `dom-u-morya.site`

---
## 📸 Скриншоты
> Главная страница со списком домов и формой фильтрации
> ![Главная страница](https://github.com/kate-belova/dom_u_morya/blob/main/static/images/screenshot-main.png)

> Страница дома с формой заявки
> ![Страница дома](https://github.com/kate-belova/dom_u_morya/blob/main/static/images/screenshot-detail.png)

---

## 👨‍💻 Автор

[**Екатерина Белова**](https://github.com/kate-belova)
